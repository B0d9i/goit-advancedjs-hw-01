{"version":3,"file":"2-form.js","sources":["../src/2-form.js"],"sourcesContent":["// Оголошення об'єкта formData поза будь-якими функціями\r\nconst formData = {\r\n  email: \"\",\r\n  message: \"\",\r\n};\r\n\r\n// Отримуємо форму\r\nconst form = document.querySelector(\".feedback-form\");\r\n\r\n// Функція для збереження даних у локальне сховище\r\nfunction saveToLocalStorage() {\r\n  localStorage.setItem(\"feedback-form-state\", JSON.stringify(formData));\r\n}\r\n\r\n// Функція для завантаження даних з локального сховища\r\nfunction loadFromLocalStorage() {\r\n  const savedData = localStorage.getItem(\"feedback-form-state\");\r\n  if (savedData) {\r\n    try {\r\n      const parsedData = JSON.parse(savedData);\r\n      formData.email = parsedData.email || \"\";\r\n      formData.message = parsedData.message || \"\";\r\n      \r\n      // Заповнюємо поля форми\r\n      if (form.elements.email) {\r\n        form.elements.email.value = formData.email;\r\n      }\r\n      if (form.elements.message) {\r\n        form.elements.message.value = formData.message;\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Помилка при завантаженні даних:\", error);\r\n    }\r\n  }\r\n}\r\n\r\n// Завантажуємо дані при завантаженні сторінки\r\nloadFromLocalStorage();\r\n\r\n// Використовуємо метод делегування для відстеження змін у формі\r\nform.addEventListener(\"input\", (event) => {\r\n  const { name, value } = event.target;\r\n  \r\n  // Перевіряємо, чи існує поле в formData\r\n  if (formData.hasOwnProperty(name)) {\r\n    // Видаляємо пробіли по краях\r\n    formData[name] = value.trim();\r\n    // Зберігаємо в локальне сховище\r\n    saveToLocalStorage();\r\n  }\r\n});\r\n\r\n// Обробка події submit\r\nform.addEventListener(\"submit\", (event) => {\r\n  event.preventDefault();\r\n  \r\n  // Оновлюємо formData з поточних значень полів форми\r\n  formData.email = form.elements.email.value.trim();\r\n  formData.message = form.elements.message.value.trim();\r\n  \r\n  // Перевірка, чи всі поля заповнені\r\n  if (!formData.email || !formData.message) {\r\n    alert(\"Fill please all fields\");\r\n    return;\r\n  }\r\n  \r\n  // Виводимо об'єкт у консоль\r\n  console.log(formData);\r\n  \r\n  // Очищаємо локальне сховище\r\n  localStorage.removeItem(\"feedback-form-state\");\r\n  \r\n  // Очищаємо об'єкт formData\r\n  formData.email = \"\";\r\n  formData.message = \"\";\r\n  \r\n  // Очищаємо поля форми\r\n  form.reset();\r\n});\r\n\r\n"],"names":["formData","form","saveToLocalStorage","loadFromLocalStorage","savedData","parsedData","error","event","name","value"],"mappings":"wFACA,MAAMA,EAAW,CACf,MAAO,GACP,QAAS,EACX,EAGMC,EAAO,SAAS,cAAc,gBAAgB,EAGpD,SAASC,GAAqB,CAC5B,aAAa,QAAQ,sBAAuB,KAAK,UAAUF,CAAQ,CAAC,CACtE,CAGA,SAASG,GAAuB,CAC9B,MAAMC,EAAY,aAAa,QAAQ,qBAAqB,EAC5D,GAAIA,EACF,GAAI,CACF,MAAMC,EAAa,KAAK,MAAMD,CAAS,EACvCJ,EAAS,MAAQK,EAAW,OAAS,GACrCL,EAAS,QAAUK,EAAW,SAAW,GAGrCJ,EAAK,SAAS,QAChBA,EAAK,SAAS,MAAM,MAAQD,EAAS,OAEnCC,EAAK,SAAS,UAChBA,EAAK,SAAS,QAAQ,MAAQD,EAAS,QAE1C,OAAQM,EAAO,CACd,QAAQ,MAAM,kCAAmCA,CAAK,CACvD,CAEL,CAGAH,IAGAF,EAAK,iBAAiB,QAAUM,GAAU,CACxC,KAAM,CAAE,KAAAC,EAAM,MAAAC,GAAUF,EAAM,OAG1BP,EAAS,eAAeQ,CAAI,IAE9BR,EAASQ,CAAI,EAAIC,EAAM,KAAI,EAE3BP,IAEJ,CAAC,EAGDD,EAAK,iBAAiB,SAAWM,GAAU,CAQzC,GAPAA,EAAM,eAAc,EAGpBP,EAAS,MAAQC,EAAK,SAAS,MAAM,MAAM,OAC3CD,EAAS,QAAUC,EAAK,SAAS,QAAQ,MAAM,OAG3C,CAACD,EAAS,OAAS,CAACA,EAAS,QAAS,CACxC,MAAM,wBAAwB,EAC9B,MACD,CAGD,QAAQ,IAAIA,CAAQ,EAGpB,aAAa,WAAW,qBAAqB,EAG7CA,EAAS,MAAQ,GACjBA,EAAS,QAAU,GAGnBC,EAAK,MAAK,CACZ,CAAC"}